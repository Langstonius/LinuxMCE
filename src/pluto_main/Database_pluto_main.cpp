#ifdef WIN32
	#include <winsock.h>
#endif
#include <iostream>
#include <mysql.h>
#include <stdio.h>
#include <string>

#include <map>
#include <vector>

using namespace std;

#include "Database_pluto_main.h"


#include "DCEConfig.h"

Database_pluto_main::Database_pluto_main()
{
tblArray=NULL;
tblBroadcast=NULL;
tblButton=NULL;
tblCachedScreens=NULL;
tblCannedEvents=NULL;
tblCannedEvents_CriteriaParmList=NULL;
tblCommand=NULL;
tblCommandCategory=NULL;
tblCommandGroup=NULL;
tblCommandGroup_Command=NULL;
tblCommandGroup_Command_CommandParameter=NULL;
tblCommandGroup_D=NULL;
tblCommandGroup_D_Command=NULL;
tblCommandGroup_D_Command_CommandParameter=NULL;
tblCommandGroup_EntertainArea=NULL;
tblCommandGroup_Room=NULL;
tblCommandParameter=NULL;
tblCommand_CommandParameter=NULL;
tblCommand_Pipe=NULL;
tblConfigType=NULL;
tblConfigType_File=NULL;
tblConfigType_Setting=NULL;
tblConfigType_Token=NULL;
tblConnectorType=NULL;
tblCountry=NULL;
tblCriteria=NULL;
tblCriteriaList=NULL;
tblCriteriaList_CriteriaParmList=NULL;
tblCriteriaParm=NULL;
tblCriteriaParmList=NULL;
tblCriteriaParmNesting=NULL;
tblCriteriaParmNesting_D=NULL;
tblCriteriaParm_D=NULL;
tblCriteria_D=NULL;
tblDHCPDevice=NULL;
tblDHCPDevice_DeviceData=NULL;
tblDataGrid=NULL;
tblDesignObj=NULL;
tblDesignObjCategory=NULL;
tblDesignObjParameter=NULL;
tblDesignObjType=NULL;
tblDesignObjType_DesignObjParameter=NULL;
tblDesignObjVariation=NULL;
tblDesignObjVariation_DesignObj=NULL;
tblDesignObjVariation_DesignObjParameter=NULL;
tblDesignObjVariation_Text=NULL;
tblDesignObjVariation_Text_Skin_Language=NULL;
tblDesignObjVariation_Zone=NULL;
tblDevice=NULL;
tblDeviceCategory=NULL;
tblDeviceCategory_DeviceData=NULL;
tblDeviceCategory_Event=NULL;
tblDeviceCommandGroup=NULL;
tblDeviceCommandGroup_Command=NULL;
tblDeviceCommandGroup_DeviceCommandGroup_Parent=NULL;
tblDeviceData=NULL;
tblDeviceGroup=NULL;
tblDeviceTemplate=NULL;
tblDeviceTemplate_AV=NULL;
tblDeviceTemplate_DSPMode=NULL;
tblDeviceTemplate_DesignObj=NULL;
tblDeviceTemplate_DeviceCategory_ControlledVia=NULL;
tblDeviceTemplate_DeviceCategory_ControlledVia_Pipe=NULL;
tblDeviceTemplate_DeviceCommandGroup=NULL;
tblDeviceTemplate_DeviceData=NULL;
tblDeviceTemplate_DeviceTemplate_ControlledVia=NULL;
tblDeviceTemplate_DeviceTemplate_ControlledVia_Pipe=NULL;
tblDeviceTemplate_DeviceTemplate_Related=NULL;
tblDeviceTemplate_Event=NULL;
tblDeviceTemplate_InfraredGroup=NULL;
tblDeviceTemplate_Input=NULL;
tblDeviceTemplate_MediaType=NULL;
tblDeviceTemplate_MediaType_DesignObj=NULL;
tblDeviceTemplate_Output=NULL;
tblDeviceTemplate_PageSetup=NULL;
tblDevice_Command=NULL;
tblDevice_CommandGroup=NULL;
tblDevice_DeviceData=NULL;
tblDevice_DeviceGroup=NULL;
tblDevice_Device_Pipe=NULL;
tblDevice_Device_Related=NULL;
tblDevice_EntertainArea=NULL;
tblDevice_HouseMode=NULL;
tblDevice_Orbiter=NULL;
tblDevice_StartupScript=NULL;
tblDevice_Users=NULL;
tblDirection=NULL;
tblDirectory=NULL;
tblDistro=NULL;
tblDocument=NULL;
tblDocument_Comment=NULL;
tblEntertainArea=NULL;
tblEvent=NULL;
tblEventCategory=NULL;
tblEventHandler=NULL;
tblEventParameter=NULL;
tblEvent_EventParameter=NULL;
tblFAQ=NULL;
tblFirewall=NULL;
tblFloorplan=NULL;
tblFloorplanObjectType=NULL;
tblFloorplanObjectType_Color=NULL;
tblFloorplanType=NULL;
tblHorizAlignment=NULL;
tblHouseMode=NULL;
tblHousehold=NULL;
tblHousehold_Installation=NULL;
tblIcon=NULL;
tblImage=NULL;
tblInfraredGroup=NULL;
tblInfraredGroup_Command=NULL;
tblInfraredGroup_Command_Preferred=NULL;
tblInstallWizard=NULL;
tblInstallWizard_Distro=NULL;
tblInstallation=NULL;
tblInstallation_RepositorySource_URL=NULL;
tblInstallation_Users=NULL;
tblLanguage=NULL;
tblLicense=NULL;
tblManufacturer=NULL;
tblMediaType=NULL;
tblMediaType_Broadcast=NULL;
tblMediaType_DesignObj=NULL;
tblNews=NULL;
tblOperatingSystem=NULL;
tblOrbiter=NULL;
tblOrbiter_Users_PasswordReq=NULL;
tblOrbiter_Variable=NULL;
tblPackage=NULL;
tblPackageType=NULL;
tblPackage_Compat=NULL;
tblPackage_Directory=NULL;
tblPackage_Directory_File=NULL;
tblPackage_Package=NULL;
tblPackage_Source=NULL;
tblPackage_Source_Compat=NULL;
tblPackage_Users=NULL;
tblPackage_Version=NULL;
tblPageSetup=NULL;
tblPaidLicense=NULL;
tblParameterType=NULL;
tblPhoneLineType=NULL;
tblPipe=NULL;
tblRepositorySource=NULL;
tblRepositorySource_URL=NULL;
tblRepositoryType=NULL;
tblRoom=NULL;
tblRoomType=NULL;
tblRoom_Users=NULL;
tblSchema=NULL;
tblSetupStep=NULL;
tblSize=NULL;
tblSkin=NULL;
tblStabilityStatus=NULL;
tblStartupScript=NULL;
tblStyle=NULL;
tblStyleVariation=NULL;
tblSystem=NULL;
tblTemplate=NULL;
tblText=NULL;
tblTextCategory=NULL;
tblText_LS=NULL;
tblText_LS_AltVersions=NULL;
tblUnknownDevices=NULL;
tblUserMode=NULL;
tblUsers=NULL;
tblVariable=NULL;
tblVersion=NULL;
tblVertAlignment=NULL;
tblpsc_constants_batdet=NULL;
tblpsc_constants_bathdr=NULL;
tblpsc_constants_batuser=NULL;
tblpsc_constants_repset=NULL;
tblpsc_constants_schema=NULL;
tblpsc_constants_tables=NULL;
tblpsc_dce_batdet=NULL;
tblpsc_dce_bathdr=NULL;
tblpsc_dce_batuser=NULL;
tblpsc_dce_repset=NULL;
tblpsc_dce_schema=NULL;
tblpsc_dce_tables=NULL;
tblpsc_designer_batdet=NULL;
tblpsc_designer_bathdr=NULL;
tblpsc_designer_batuser=NULL;
tblpsc_designer_repset=NULL;
tblpsc_designer_schema=NULL;
tblpsc_designer_tables=NULL;
tblpsc_document_batdet=NULL;
tblpsc_document_bathdr=NULL;
tblpsc_document_batuser=NULL;
tblpsc_document_repset=NULL;
tblpsc_document_schema=NULL;
tblpsc_document_tables=NULL;
tblpsc_ir_batdet=NULL;
tblpsc_ir_bathdr=NULL;
tblpsc_ir_batuser=NULL;
tblpsc_ir_repset=NULL;
tblpsc_ir_schema=NULL;
tblpsc_ir_tables=NULL;
tblpsc_local_batdet=NULL;
tblpsc_local_bathdr=NULL;
tblpsc_local_batuser=NULL;
tblpsc_local_repset=NULL;
tblpsc_local_schema=NULL;
tblpsc_local_tables=NULL;
tblpsc_website_batdet=NULL;
tblpsc_website_bathdr=NULL;
tblpsc_website_batuser=NULL;
tblpsc_website_repset=NULL;
tblpsc_website_schema=NULL;
tblpsc_website_tables=NULL;
}

Database_pluto_main::~Database_pluto_main()
{
	DeleteAllTables();
}

void Database_pluto_main::DeleteAllTables()
{
DeleteTable_Array();
DeleteTable_Broadcast();
DeleteTable_Button();
DeleteTable_CachedScreens();
DeleteTable_CannedEvents();
DeleteTable_CannedEvents_CriteriaParmList();
DeleteTable_Command();
DeleteTable_CommandCategory();
DeleteTable_CommandGroup();
DeleteTable_CommandGroup_Command();
DeleteTable_CommandGroup_Command_CommandParameter();
DeleteTable_CommandGroup_D();
DeleteTable_CommandGroup_D_Command();
DeleteTable_CommandGroup_D_Command_CommandParameter();
DeleteTable_CommandGroup_EntertainArea();
DeleteTable_CommandGroup_Room();
DeleteTable_CommandParameter();
DeleteTable_Command_CommandParameter();
DeleteTable_Command_Pipe();
DeleteTable_ConfigType();
DeleteTable_ConfigType_File();
DeleteTable_ConfigType_Setting();
DeleteTable_ConfigType_Token();
DeleteTable_ConnectorType();
DeleteTable_Country();
DeleteTable_Criteria();
DeleteTable_CriteriaList();
DeleteTable_CriteriaList_CriteriaParmList();
DeleteTable_CriteriaParm();
DeleteTable_CriteriaParmList();
DeleteTable_CriteriaParmNesting();
DeleteTable_CriteriaParmNesting_D();
DeleteTable_CriteriaParm_D();
DeleteTable_Criteria_D();
DeleteTable_DHCPDevice();
DeleteTable_DHCPDevice_DeviceData();
DeleteTable_DataGrid();
DeleteTable_DesignObj();
DeleteTable_DesignObjCategory();
DeleteTable_DesignObjParameter();
DeleteTable_DesignObjType();
DeleteTable_DesignObjType_DesignObjParameter();
DeleteTable_DesignObjVariation();
DeleteTable_DesignObjVariation_DesignObj();
DeleteTable_DesignObjVariation_DesignObjParameter();
DeleteTable_DesignObjVariation_Text();
DeleteTable_DesignObjVariation_Text_Skin_Language();
DeleteTable_DesignObjVariation_Zone();
DeleteTable_Device();
DeleteTable_DeviceCategory();
DeleteTable_DeviceCategory_DeviceData();
DeleteTable_DeviceCategory_Event();
DeleteTable_DeviceCommandGroup();
DeleteTable_DeviceCommandGroup_Command();
DeleteTable_DeviceCommandGroup_DeviceCommandGroup_Parent();
DeleteTable_DeviceData();
DeleteTable_DeviceGroup();
DeleteTable_DeviceTemplate();
DeleteTable_DeviceTemplate_AV();
DeleteTable_DeviceTemplate_DSPMode();
DeleteTable_DeviceTemplate_DesignObj();
DeleteTable_DeviceTemplate_DeviceCategory_ControlledVia();
DeleteTable_DeviceTemplate_DeviceCategory_ControlledVia_Pipe();
DeleteTable_DeviceTemplate_DeviceCommandGroup();
DeleteTable_DeviceTemplate_DeviceData();
DeleteTable_DeviceTemplate_DeviceTemplate_ControlledVia();
DeleteTable_DeviceTemplate_DeviceTemplate_ControlledVia_Pipe();
DeleteTable_DeviceTemplate_DeviceTemplate_Related();
DeleteTable_DeviceTemplate_Event();
DeleteTable_DeviceTemplate_InfraredGroup();
DeleteTable_DeviceTemplate_Input();
DeleteTable_DeviceTemplate_MediaType();
DeleteTable_DeviceTemplate_MediaType_DesignObj();
DeleteTable_DeviceTemplate_Output();
DeleteTable_DeviceTemplate_PageSetup();
DeleteTable_Device_Command();
DeleteTable_Device_CommandGroup();
DeleteTable_Device_DeviceData();
DeleteTable_Device_DeviceGroup();
DeleteTable_Device_Device_Pipe();
DeleteTable_Device_Device_Related();
DeleteTable_Device_EntertainArea();
DeleteTable_Device_HouseMode();
DeleteTable_Device_Orbiter();
DeleteTable_Device_StartupScript();
DeleteTable_Device_Users();
DeleteTable_Direction();
DeleteTable_Directory();
DeleteTable_Distro();
DeleteTable_Document();
DeleteTable_Document_Comment();
DeleteTable_EntertainArea();
DeleteTable_Event();
DeleteTable_EventCategory();
DeleteTable_EventHandler();
DeleteTable_EventParameter();
DeleteTable_Event_EventParameter();
DeleteTable_FAQ();
DeleteTable_Firewall();
DeleteTable_Floorplan();
DeleteTable_FloorplanObjectType();
DeleteTable_FloorplanObjectType_Color();
DeleteTable_FloorplanType();
DeleteTable_HorizAlignment();
DeleteTable_HouseMode();
DeleteTable_Household();
DeleteTable_Household_Installation();
DeleteTable_Icon();
DeleteTable_Image();
DeleteTable_InfraredGroup();
DeleteTable_InfraredGroup_Command();
DeleteTable_InfraredGroup_Command_Preferred();
DeleteTable_InstallWizard();
DeleteTable_InstallWizard_Distro();
DeleteTable_Installation();
DeleteTable_Installation_RepositorySource_URL();
DeleteTable_Installation_Users();
DeleteTable_Language();
DeleteTable_License();
DeleteTable_Manufacturer();
DeleteTable_MediaType();
DeleteTable_MediaType_Broadcast();
DeleteTable_MediaType_DesignObj();
DeleteTable_News();
DeleteTable_OperatingSystem();
DeleteTable_Orbiter();
DeleteTable_Orbiter_Users_PasswordReq();
DeleteTable_Orbiter_Variable();
DeleteTable_Package();
DeleteTable_PackageType();
DeleteTable_Package_Compat();
DeleteTable_Package_Directory();
DeleteTable_Package_Directory_File();
DeleteTable_Package_Package();
DeleteTable_Package_Source();
DeleteTable_Package_Source_Compat();
DeleteTable_Package_Users();
DeleteTable_Package_Version();
DeleteTable_PageSetup();
DeleteTable_PaidLicense();
DeleteTable_ParameterType();
DeleteTable_PhoneLineType();
DeleteTable_Pipe();
DeleteTable_RepositorySource();
DeleteTable_RepositorySource_URL();
DeleteTable_RepositoryType();
DeleteTable_Room();
DeleteTable_RoomType();
DeleteTable_Room_Users();
DeleteTable_Schema();
DeleteTable_SetupStep();
DeleteTable_Size();
DeleteTable_Skin();
DeleteTable_StabilityStatus();
DeleteTable_StartupScript();
DeleteTable_Style();
DeleteTable_StyleVariation();
DeleteTable_System();
DeleteTable_Template();
DeleteTable_Text();
DeleteTable_TextCategory();
DeleteTable_Text_LS();
DeleteTable_Text_LS_AltVersions();
DeleteTable_UnknownDevices();
DeleteTable_UserMode();
DeleteTable_Users();
DeleteTable_Variable();
DeleteTable_Version();
DeleteTable_VertAlignment();
DeleteTable_psc_constants_batdet();
DeleteTable_psc_constants_bathdr();
DeleteTable_psc_constants_batuser();
DeleteTable_psc_constants_repset();
DeleteTable_psc_constants_schema();
DeleteTable_psc_constants_tables();
DeleteTable_psc_dce_batdet();
DeleteTable_psc_dce_bathdr();
DeleteTable_psc_dce_batuser();
DeleteTable_psc_dce_repset();
DeleteTable_psc_dce_schema();
DeleteTable_psc_dce_tables();
DeleteTable_psc_designer_batdet();
DeleteTable_psc_designer_bathdr();
DeleteTable_psc_designer_batuser();
DeleteTable_psc_designer_repset();
DeleteTable_psc_designer_schema();
DeleteTable_psc_designer_tables();
DeleteTable_psc_document_batdet();
DeleteTable_psc_document_bathdr();
DeleteTable_psc_document_batuser();
DeleteTable_psc_document_repset();
DeleteTable_psc_document_schema();
DeleteTable_psc_document_tables();
DeleteTable_psc_ir_batdet();
DeleteTable_psc_ir_bathdr();
DeleteTable_psc_ir_batuser();
DeleteTable_psc_ir_repset();
DeleteTable_psc_ir_schema();
DeleteTable_psc_ir_tables();
DeleteTable_psc_local_batdet();
DeleteTable_psc_local_bathdr();
DeleteTable_psc_local_batuser();
DeleteTable_psc_local_repset();
DeleteTable_psc_local_schema();
DeleteTable_psc_local_tables();
DeleteTable_psc_website_batdet();
DeleteTable_psc_website_bathdr();
DeleteTable_psc_website_batuser();
DeleteTable_psc_website_repset();
DeleteTable_psc_website_schema();
DeleteTable_psc_website_tables();
}

bool Database_pluto_main::Connect(string host, string user, string pass, string sDBName, int port)
{
return MySQLConnect(host, user, pass, sDBName, port);
}

bool Database_pluto_main::Connect(class DCEConfig *pDCEConfig)
{
	return Connect(pDCEConfig->m_sDBHost,pDCEConfig->m_sDBUser,pDCEConfig->m_sDBPassword,pDCEConfig->m_sDBName,pDCEConfig->m_iDBPort);
}
