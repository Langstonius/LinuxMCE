freepbx (2.3.0~dfsg-1) UNRELEASED; urgency=low

  * New upstream release
  * freepbx-panel: fix configuration patch
  * The core module is packaged separately
  * Most of AMP's packages are obsolted (no replace, no conflicts)
  * Package freepbx-agi is deprecated, and integrated into freepbx-common (to 
    get ARI integration just install ARI)

 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Wed, 8 Aug 2007 14:25:11 +0300

freepbx (2.2.2~dfsg-1) UNRELEASED; urgency=low
  
  [ Diego Iastrubni ]
  * New upstream release
  * Removed obsolete patches
  * System recordings are not saved in the sounds/custom directory 
    instead of /tmp/ (to be commited upstream "soon")
  * Fixed trunks page, to work properly on SQLite3

  [ Tzafrir Choen ]
  * Catch-all should also catch a DID of 1 digit (fix-catch-all.dpatch)

  [ Dermot Bradley ]
  * Fixed fix-agibin-dir: log path was wrong
  * Fixed op-panel configuration generation (problem in update-freepbx)

 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Tue, 26 Jun 2007 14:25:11 +0300


freepbx (2.2.1~dfsg-1) UNRELEASED; urgency=low

  * NOT RELEASED YET

  [ Diego Iastrubni ]
  * New upstream release
  * SQLite2 is deprecated, SQLite3 and MySQL are supported.
  * Source cleanup: ari and op-panel are no longer on the source tree
    (same for cdr code which is not free by dfsg)
  * Removed obsolete updates from 1.0.10
  * asterisk-sounds-moh-freepbx: files are now *.sln, packaged by upstream
  * freepbx-common: renamed freepbx-admin
  * freepbx-common: apply_conf.sh is now called /usr/sbin/update-freepbx
  * freepbx-mysql, freepbx-sqlite3: support for sql "servers" has been
    put in separate packages. One package is needed for the configuration.
  * freepbx-common: fixed patch for module_admin, now it also fixes upstream 
    1899). Now it is possible to install freepbx-sqlite3 in chroot
  * freepbx-common: agi/directory will store logs in the correct dir (fixes
    upstream 1912)
  * freepbx-common: archive_recordings now points to the correct 
    php-asmanager.php (thanks to Robert Roach for reporting)
  * freepbx-sqlite3, freepbx-mysql: create a default inbound route to the demos
    provided in the asterisk documentation
  * freepbx-common: retrive_conf will now (at least try) to save the files in 
    mode 660, as they contain passowrds - they should not be world readable.
  * freepbx-common: updated use_conf_defaults to fix upstream: 
    http://freepbx.org/trac/ticket/1921
  * freepbx-common: added fix-mysql-real-escape-string.dpatch, fixes upstream
    http://www.freepbx.org/trac/ticket/1963
  * asterisk-config-freepbx: fix hardcoded path for fax-process.pl to match debian's 
    FHS

  [ Chris Halls ]
  * Remove fix-recordings.patch - already fixed in a different way upstream
  * Remove redundant debconf calls in pre/postinst scripts. Prevents hang
    when restarting op-panel from freepbx-panel

  [ Tzafrir Cohen ]
  * Add the demo context from the Asterisk default dialplan to our dialplan. 

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Wed, 25 Apr 2007 04:06:50 +0300

freepbx (2.2.0~dfsg-1) UNRELEASED; urgency=low

  * NOT RELEASED YET

  [ Diego Iastrubni ]
  * New upstream release
  * Lets use the new ugly debian scheme for versions
  * Updated list of virtual packages
  * Removed evil lintian workarounds
  * freepbx-admin: applied a patch to fix a bug in enum lookups
  * freepbx-admin: added a workaround for upstream bug 1694 (fixed upstream already)
  * freepbx-admin: fixed a problem which happens uninstall of buggy modules (fixes upstream bug 1731)
  * freepbx-admin: added a patch to support sqlite3, backport from trunk
  * asterisk-config-freepbx: sox is not longer a requirement, it's only recommended now
  * Utility for creating the modules, has been updated to support dpatch
  * freepbx-admin: freepbx-enable-all-modules has been ported to the new module_admin script

  [ Chris Halls ]
  * freepbx-panel: 
    - op-panel now uses asterisk user
    - Depend on op-panel >= 0.26.dfsg-5 where this change happened
    - fix link to display op-panel (path-to-fop.dpatch)
    - generate and use op_buttons.cfg in /etc/op-panel/freepbx
      (modified fix-retrieve-op-panel-cfg.dpatch)
    - fix panel update in apply_conf.sh
  * fix generation of *_additional.conf files if datbase configuration is not
    explicitly specified in amportal.conf (use-conf-defaults.dpatch)
  * fix trunk dialing rules and recording (fix-agibin-dir.dpatch)
  * vmail.cgi has been quietly dropped (see SVN changeset 2020). Remove
    freepbx-vmail package and Suggest ari.
  * re-enable fix-recordings.dpatch
  * update and re-enable fix-open-or-die.dpatch

 -- Chris Halls <halls@debian.org>  Mon, 26 Feb 2007 10:46:45 +0000

freepbx (2.1.3.dfsg-1) UNRELEASED; urgency=low

  * NOT RELEASED YET
  
  [Diego Iastrubni]
  * New upstream release
  * Removed patch fix-konqueror-blinks, as it was merged upstream
  * Removed patch fix-reload-on-no-asterisk, as it was merged upstream
  * Many lintian fixes (works on sarge, but not etch... fun fun fun...)
  * Fixed the control file to support php4, php5, mysql4, mysql5 and other variations.
    
  * asterisk-config-freepbx: all configuration files are stored as examples files as well
  * asterisk-config-freepbx: configuration files contain minimal documentation (backport from amportal packages)
  * asterisk-config-freepbx: system recording are saved in  ASTVARLIB/sounds/custom and not /tmp (fix-recordings.dpatch)
  * freepbx-admin: many bug fixes in freepbx-modules-status (status is working, enabling a module will also try to upgrade it if needed)
  * freepbx-admin: fixed some typos in the help of freepbx-module-status
  * freepbx-admin: added a new patch for alternative configuraiton support
  * freepbx-admin: log of the retriev_conf script is stored in the log directory (backport from the trunk, log-retrieve.dpatch)
  * freepbx-admin: package identifies itself as 2.1.3, and not 2.1.2  (fix-version-2.1.3.dpatch)
  * freepbx-admin: ari and op-panel are correctly detected by the gui now (fix-toplinks.dpatch)
  * freepbx-admin: better support for php+mysql on Etch systems
  * freepbx-admin: fixed html code on index.php (fix-index-php.dpatch)
  * freepbx-admin: email validation on extensions page was too restrictive (fix-wierd-email.dpatch)

  [Tzafrir Cohen]
  * freepbx-panel: Fix incorrect invocation of invoke-rc.d on freepbx-panel.prerm
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Wed, 27 Sep 2006 12:36:11 +0300
		 
freepbx (2.1.1.dfsg-1) UNRELEASED; urgency=low

  * NOT RELEASED YET
  
  [Diego Iastrubni]
  * New upstream release
  * Repackagedas dfsg
  * Removed cdr support (QPL licenced)
  * Build-dep on dpatch
  * Clean ups of obsolete patches
  * all mp3 are converted to 16 bit 8khz wav files, also in source
  * freepbx admin is installed into /usr/share/freepbx 
    (was /usr/share/freepbx/admin)
  * asterisk-config-freepbx: added both manager.d and extensions.d directories 
    (on the same patch)
  * freepbx-admin: patched featured codes, to support sqlite
  * freepbx-admin: applied a patch to remove blinking on Konqueror
  * freepbx-admin: major cleanups to install_amp (does not install files by 
    default now)    
  * freepbx-admin: fixed a bug caused by tring to reload while the manager does 
    not respond backport from the branch, patch fix-reload-on-no-asterisk.dpath
  * freepbx-admin: depends on adduser        
  * freepbx-panel: add another alternative configuration for op-panel
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 19 Jun 2006 18:00:00 +0200


freepbx (2.0.1-2.24) experimental; urgency=low

  * Obsoleted the perl verision of dialparties.agi, and using the dialparties from freepbx 2.1
  * New package to provide missing sound files
  * Disabled the checking for libasteriskperl on install_amp
  * Added to a target to the rules file for downloading the source from the web
  * freepbx-cdr is not demanded as a dependendy for installing freepbx
  * freepbx-admin: provide a link to amportal on the web root - to be obsoleted soon
  * freepbx-admin: install_amp will default to using mysql
  * asterisk-config-freepbx: use native music on hold by default, music files have been converted to 16 bit 8khz  
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 5 Jun 2006 18:00:00 +0200

freepbx (2.0.1-2) experimental; urgency=low

  * Added vitual package to ease the installation of different combinations of sql/httpd servers.
  * asterisk-config-freepbx: added dependency for sox
  * asterisk-config-freepbx: purge should delete more files
  * freepbx-modules: removed some packages from the default installation - not tested enough  
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 19 Mar 2006 18:00:00 +0200

freepbx (2.0.1-1) experimental; urgency=low

  * New upstream version
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 19 Mar 2006 17:00:00 +0200

freepbx (1.99.beta4-7) experimental; urgency=low

  * New upstream version
  * asterisk-config-freepbx: new directory for custom manager configurations  
  * asterisk-config-freepbx: new directory for custom dialplans 
  * asterisk-config-freepbx: freepbx manager configuration moved to /etc/asterisk/manager.d/freepbx.conf
  * asterisk-config-freepbx: added configuration file /etc/asterisk/asterisk.conf
  * freepbx-admin: now the default is to authenticate against the FreePBX database, with a default "admin:admin" user
  * freepbx-admin: new script for generating sqlite databases
  * freepbx-admin: post-reload actions enabled back again by default
  * freepbx-vmail: conatin a link to the correct ari directory
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 12 Mar 2006 17:00:00 +0200

freepbx (1.99.beta2-3) experimental; urgency=low

  * asterisk-config-freepbx: configuration of several packages have been splited into small files
  * freepbx-admin: creates databases on first install, and installs a default amportal.conf
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 8 Mar 2006 15:00:00 +0200

freepbx (1.99.beta2-2) experimental; urgency=low

  * freepbx-admin: retrieve* have support for sqlite
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 2 Mar 2006 15:00:00 +0200

freepbx (1.99.beta2-1) experimental; urgency=low

  * freepbx-admin: added sqlite template
  * freepbx-admin: added missing dependency on libdbi-perl
  * asterisk-config-freepbx: removed chan_modem from configuration
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 2 Mar 2006 12:00:00 +0200

freepbx (1.99.beta2) experimental; urgency=low

  * New name.
  * New upstream version
  * Removed all Rapid patches. Will come as external modules with time.
  * Splited modules to new packages - this will help in long term maintanence
  * Support for sqlite
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 1 Mar 2006 18:00:00 +0200

amportal (1.10.010-6) unstable; urgency=low

  * amportal-common: added a new switch to detect_zap, now it requires zaptel 1.0.10-6 or above
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 24 Jan 2006 18:00:00 +0200

amportal (1.10.010-5) unstable; urgency=low

  * amportal-common: Removed A LOT of extra entries on ZAP extentions
  * amportal-common: Default calling options modified to overcome a bug in Astribank
  * amportal-common: New zap2amp, which can handle BRI and other coolness (improoved AMP Zaptel auto configuration)
  * asterisk-config-amportal: modified configuration of phpagi
  * asterisk-config-amportal: modified configuration of asterisk looger (now we do not provide a full log by default)
          
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 10 Jan 2006 14:00:00 +0200

amportal (1.10.010-4) unstable; urgency=low
  
  * amportal-common: fixed IVR editing: the permissions was set to wrong files. 
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 8 Jan 2006 17:00:00 +0200

amportal (1.10.010-3) unstable; urgency=low

  * amportal-panel is back

 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 3 Jan 2006 17:00:00 +0200

amportal (1.10.010-2) unstable; urgency=low

  * removing the op-panel sub-package: it belongs in a separate package.
    TODO: how to interact with op-panel package? panel is currenty
    non-functional.
  * the config script should not have a postinst script.
  * fixed 'open || die' -> 'open or die'

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Sun, 25 Dec 2005 19:12:00 +0200

amportal (1.10.010-1) unstable; urgency=low

  * New upstream release
  * asterisk-config-amportal: applied patch for bug number #1361738 in AMP (Ring Groups Hunt's go directly to "No Answer")
  * amportal-common: applied patch for bug number #1350755 in AMP (AMPWEBADDRESS= can not be blank)
  * amportal-common: give the sysadmin the ability to disable some menus on demand (for example HIDDEN_MENUS=1/2/3)
  * amportal-common: upgrades will make by default a new admin user (password admin) if no other admins will found (even if the auth entry in amportal.conf is none)
  * amportal-common: authentificaion is done using DB by default, with user "admin:admin" (please admin password change after install)
  * amportal-common: post reload actions are made after the writing to SQL
  * amportal-common: top level menus will be displayed only if components are available (you can now install only parts of AMP)
  * amportal-common: new key in amportal.conf for start extention in zaptel auto detection
  * amportal-panel: updated op-panel to v0.25 snapshot from 2005-11-16-00:42:32
  * asterisk-sounds-mohmp3: amportal uses now sox for playing the MOH, and the supplied files are WAVs
  * asterisk-sounds-amportal: removed, now depends on asterisk-sounds-{extra/main}
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 8 Dec 2005 17:00:00 +0200


amportal (1.10.009-47) unstable; urgency=low

  * amportal-common: amportal-install-db can create empty DB (CLEANDB=1 amportal-install-db)
  * amportal-common: zaptel autodetection, now depends on sudo as well
  * amportal-panel: runs as op-panel (was running as root until now)
  * amportal-panel: pid file is saved in own directory /var/run/op-panel
  * amportal-panel: updated op-panel to v0.25 snapshot from 2005-11-16-00:42:32
  * asterisk-config-amportal: added "Replaces: asterisk-config", which should fix migrating from sarge's asterisk, to Rapid
  * amportal: now requires zaptel
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Sun, 21 Nov 2005 17:00:00 +0200
 

amportal (1.10.009-43) unstable; urgency=low

  * amportal-common: admin/config.php is now the default page of amportal
  * amportal-common: index.html redirects to "admin" (which is now admin/config.php)
  * amportal-common: you can change the language from every where now 
  * amportal-common: all pages contain a link to the ARI
  * amportal-common: removed all post reload scripts from this package
  * asterisk-config-sounds: musiconold now plays WAVs using sox
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Wed, 9 Nov 2005 17:00:00 +0200

amportal (1.10.009-37) unstable; urgency=low

  * amportal-common: config files parsing improvements
  * amportal-common: new post apply script is configurable
  * amportal-common: new image (xorcom-rapid), now default "admin" image
  * amportal-common: new post reload script, when pressing the need reload, a set of scripts will be executed+cool display effect
  * amportal-common: incomming calls page displays the local time of the server
  * amportal-common: ivr should work now
  * amportal-common: new command for retrieving all information from mysql (/usr/share/amportal-common/retrieve-all-from-mysql.sh)
  * amportal-common: on postinst, call retrieve-all-from-mysql.sh
  * amportal-common: support for new alternative CSS (ALTERNATIVE_CSS=1 in  amportal.conf)
  * amportal-common: depends on asterisk 1.0.9.dfgs.1-3.4 (now apache does not need to run as asterisk, just needs to run as the asterisk group)
  * amportal-panel: variables.txt is now writable, in /var/lib/op-panel (not on the webroot)
  * amportal-panel: added bounce_op.sh 
  * amportal-panel: added man-page for op-server.pl
  * amportal-admin: fix the layout problems in the admin config pages
  * debian package update (now we have source+changes)
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Thu, 3 Nov 2005 17:00:00 +0200
 
amportal (1.10.009-22) unstable; urgency=low
  
  * moved rapid extra dir into the debian subdir, as needed by
  * amportal-common: fix some problems reguarding php when installing on apache2
  * amportal-common: path fixes... hopefully we are done with these (scripts are in /usr/share/amportal-common)
  * amportal-common: sanity checks for flash-operator on apply_conf.sh 
  * amportal-common: new images
  * amportal-common: display server name + version 
  * amportal-panel: configuration is now available also under /etc/op-panel
  * amportal-panel: scripts are in /usr/sbin
  * amportal-panel: conflicts  op-panel
  * asterisk-sounds-amportal: new package, provides sound files needed by AMPortal
  * asterisk-moh-amportal: new package, provides music on hold files "needed" by AMPortal
  * asterisk-vmail: fix permissions on voicemail directories

 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Thu, 25 Sep 2005 12:30:00 +0300

amportal (1.10.009-1) unstable; urgency=low

  * New upstream release
  * amportal-agi: fixed path in archive_recordings, ampbackup.pl, fixlocalprefix, recordingcheck

 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Thu, 15 Sep 2005 12:30:00 +0300
  
amportal (1.10.008-1) unstable; urgency=low

  * splited main index and most of AMPortal into amportal-common
  * splited agi into amportal-agi
  * splited cdr into amportal-cdr  
  * splited config asterisk-config-amportal 
  * splited flash operator panel amportal-panel
  * splited vmail into amportal-vmail
  * amportal is a virtual package which installs all sub compenents
  * amportal-agi: depends on asterisk
  * amportal-common: added apache|apache2 as a dependency (same for libapache-mod-php4)
  * amportal-common: retrieve*.pl moved out of webroot because of sequerity reasons, into /usr/lib/amportal
  * amportal-common: moved directories arround, now php files are in /usr/share/amportal, scripts are in /usr/lib/amportal
  * amportal-common: mohmp3 is in debain default locations
  * amportal-common: SQL dir is now lower case
  * amportal-common: fixed to /admin/header.php use css from the root directory
  * amportal-common: css updates, now lnav and rnav have over effects (not in this version yet)
  * amportal-common: hacked an upgrade script from install_amp
  * amportal-common: new scripts amportal-{install,remove}-db.sh (mysql only)
  * amportal-common: hacked an upgrade script from install_amp
  * amportal-common: fixes to /index.html, deleted extra "head" tag, made all html tags lower case, relative links, indentation
  * amportal-common: install databases on first install, delete databases on purge 
  * asterisk-config-amportal: Package provides asterisk-config-custom
  * asterisk-config-amportal: [HACK] provide empty zapata.conf and voicemail.conf
  * asterisk-config-amportal: [HACK] put app_voicemail_pg.so as noload in /etc/asterisk/modules.conf
  * asterisk-config-amportal: postinst, chmod g+rw /etc/asterisk (asterisk)
  * asterisk-config-amportal: postinst, add www-data user to the asterisk group (apache needs write permissions on /etc/asterisk)
  * removed /usr/sbin/amportal script
  
 -- Diego Iastrubni <diego.iastrubni@xorcom.com>  Thu, 15 Sep 2005 12:00:00 +0300

amportal (1.10.007a-4) unstable; urgency=low

  * Create /etc/amportal.conf

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Fri, 20 May 2005 21:42:02 +0300

amportal (1.10.007a-3) unstable; urgency=low

  * newinstall.sql can have INSERTs of mor ethan 1 line

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Fri, 20 May 2005 20:34:15 +0300

amportal (1.10.007a-2) unstable; urgency=low

  * Fixed apache1/modphp dependency typo

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Thu, 19 May 2005 23:43:35 +0300

amportal (1.10.007a-1) unstable; urgency=low

  * New upstream release

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Sat, 09 Apr 2005 17:13:07 +0300

amportal (1.10.007-0.1) unstable; urgency=low

  * Using current CVS
  * renamed package to amportal

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Mon, 21 Feb 2005 06:50:38 +0200

amportal (1.10.006-1) unstable; urgency=low

  * New upstream version

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Mon, 07 Feb 2005 16:37:13 +0200

amportal (1.10.003-1) unstable; urgency=low

  * Initial Release. Not yet functional

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Thu, 11 Nov 2004 15:19:09 +0200

